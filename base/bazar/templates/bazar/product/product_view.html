{% extends "bazar/layout.html" %}
{% load static %}

{% block title %}Список продуктів{% endblock %}

{% block content %}
<nav class="manage_nav">
    <a href="{% url 'product_create' %}">Create record</a>
</nav>
<table border="1">
    <div class="title">

        <p>Products</p>
    </div>
    <tr>
        <th>Title</th>
        <th>Price</th>
        <th>Section</th>
    </tr>
    {% for product in products %}
    <tr>
        <td>{{ product.title }}</td>
        <td>{{ product.price }}$</td>
        <td>{{ product.section_located.title }}</td>
        <td>
            <a href="{% url 'product_detail' product.slug %}">
                <button>View details</button>
            </a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="5">No products available.</td>
    </tr>
    {% endfor %}

</table>
{%if products.has_other_pages %}
<div class="pag">
    {%if products.has_previous %}
    <div><a href="?page=1">&lt;&lt; First</a></div>
    <div><a href="?page={{products.previous_page_number}}">&lt; Prev</a></div>
    {% endif %}
    <span>Page {{products.number}} of {{products.paginator.num_pages }}</span>
    {% if products.has_next %}
    <div><a href="?page={{ products.next_page_number}}">Next &gt;</a></div>
    <div><a href="?page={{ products.paginator.num_pages}}">Last &gt;&gt;</a></div>
    {% endif %}
</div>

{% endif %}
{% endblock %}